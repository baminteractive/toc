/*!
 * toc - jQuery Table of Contents Plugin
 * v0.1.2
 * http://projects.jga.me/toc/
 * copyright Greg Allen 2013
 * MIT License
*/
!function(a){a.fn.toc=function(b){var c,d=this,e=a.extend({},jQuery.fn.toc.defaults,b),f=a(e.container),g=a(e.listType),h=a(e.selectors,f),i=[],j=e.prefix+"-active",k=function(b){if(b.preventDefault(),e.smoothScrolling){var c=a(b.target).attr("href"),f=a(c),g=f.offset().top-e.offset_top;a("html").scrollTo({top:g+"px",left:0},400,{onAfter:function(){location.hash=c}})}a("li",d).removeClass(j),a(b.target).parent().addClass(j)},l=function(){c&&clearTimeout(c),c=setTimeout(function(){for(var b,c=a(window).scrollTop(),f=0,g=i.length;g>f;f++)if(i[f]>=c){a("li",d).removeClass(j),b=a("li:eq("+(f-1)+")",d).addClass(j),e.onHighlight(b);break}},50)};return e.highlightOnScroll&&(a(window).bind("scroll",l),l()),this.each(function(){var b,c=a(this),d=a(g);h.each(function(f,g){var h=a(g);i.push(h.offset().top-e.highlightOffset),b=e.useIds?e.headerId(this,f,g,e.prefix):e.anchorName(this,f,g,e.prefix),h.attr("id",b);var j=a("<a/>").text(e.headerText(f,g,h)).attr("href","#"+b).bind("click",function(b){e.smoothScrolling&&k(b),c.trigger("selected",a(this).attr("href"))}),l=a("<li/>").addClass(e.itemClass(f,g,h,e.prefix)).append(j);d.append(l)}),c.html(d)})},jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:!0,prefix:"toc",useIds:!1,onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,offset_top:0,headerId:function(b,c,d,e){var f,g=a(b).attr("id"),h=a(d);return g||(f=h.text().split(" ").join("_").replace(/\W/g,""),g=e+encodeURIComponent(f)),g},anchorName:function(a,b,c,d){return d+b},headerText:function(a,b,c){return c.text()},itemClass:function(a,b,c,d){return d+"-"+c[0].tagName.toLowerCase()}}}(jQuery);